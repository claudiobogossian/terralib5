  TerraLib Release Instructions
  =============================


Follow the steps below in order to prepare a new release of TerraLib/TerraView.


1. Branching
------------

2. Versioning Flags
-------------------

3. Automatic Tests
------------------

4. Install Packages - Test
--------------------------

4.1 Generating the Install Packages on Windows with Microsoft Visual C++ 2010
-----------------------------------------------------------------------------

a) Create a fresh copy of the repository into a place such as:
   C:\terralib5\build

b) Open CMake-GUI in order to generate a build project for Microsoft Visual C++ 2010 (32-bit or 64-bit).
   Then assure that the following variables are set:
     CMAKE_INSTALL_PREFIX => C:\MyInstalls\TerrsLib5
     TERRALIB_TRACK_3RDPARTY_DEPENDENCIES => ON
     TERRALIB_QHELP_ENABLED => ON
     TERRALIB_DOXYGEN_ENABLED => ON  (if you want to distribute the API documentation)

   Some project may be disabled through the following variables:
     TERRALIB_BUILD_EXAMPLES_ENABLED => OFF
     TERRALIB_BUILD_UNITTEST_ENABLED => OFF

c) Open the generated terralib.sln solution (see in the target folder C:\terralib5\build).

d) Set the active solution configuration to "Release" and then "Build Solution"

e) Build additional projects: terralib_qhelp and terralib_doxygen.

f) After that you can make the NSIS package by building the project named "PACKAGE".
   According to the target platform this build will generate an executable file for the terralib installer.
   For 32-bit build the file terralib-5.0.0-beta1-win32-msvc-2010.exe is generated in the main folder of your project (see C:\terralib5\build).

4.2 Generating a Mac OS X Bundle for Drag and Drop
--------------------------------------------------

a) Create a fresh copy of the repository into a place such as:
   /Users/user/terralib5/codebase

b) The following entries in CMake will control the path in the bundle:
   TERRALIB_TRACK_3RDPARTY_DEPENDENCIES: should be ON if you want to have the 3rd-party libraries in the bundle.
   TERRALIB_BUILD_AS_BUNDLE: should be ON if you want to make a bundle in MAC OS X.
   TERRALIB_BASE_DESTINATION_DIR: it is an optional base directory for the bundle layout. The default layout is: terraview.app/Contents/.

c) Create a folder like:
   /Users/user/terralib5/build

d) Go to build folder
   cd /Users/user/terralib5/build

e) Call CMake in the command line or use CMake-GUI:
   cmake ../codebase -DCMAKE_BUILD_TYPE:STRING="Release" -DCMAKE_PREFIX_PATH:PATH="/usr/local/opt/qt5/lib/cmake/Qt5" -DCMAKE_INSTALL_PREFIX:PATH="/Users/user/MyInstalls" -DTERRALIB_TRACK_3RDPARTY_DEPENDENCIES:BOOL="ON" -DTERRALIB_BUILD_AS_BUNDLE:BOOL="ON"

Note: If you are in CMake-GUI, remember to turn on only the CPACK_BINARY_DRAGNDROP entry. All other entries for CPACK must be OFF.

5. Tests
--------


6. Tag
------


7. Release Packages
-------------------






For more information on TerraLib, please, visit its main web page at:
http://www.terralib.org


  May 2015, TerraLib Team <terralib-team@dpi.inpe.br>
